import{a as y}from"./axios-DsPaXkF5.js";import"./checkAuth-DRjRzhnr.js";import{s as c,a as I}from"./Dialog-CK7W8Unc.js";import{U as C}from"./UserOutlined-Daf04qyt.js";import{L as z}from"./LockOutlined-BhM6jK7n.js";import{j as t,a6 as B,d as F,r as j,c as A,a8 as L,ac as P,ab as f,aa as s,ai as _,S as b,al as U,am as $}from"./index-Dc-7bNr1.js";import{_ as N,I as Z,b as q,B as D}from"./index-B3D6LelG.js";import{_ as E,F as V}from"./index-DBO0YXhw.js";import{C as M}from"./index-DxYgY4RP.js";import{_ as k}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-C_k8rEGL.js";import"./isPlainObject-CjZ0oXuE.js";import"./useRefs-DACiqc7r.js";import"./Col-DLOqwCl2.js";import"./responsiveObserve-32dtUrQu.js";var T={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M931.4 498.9L94.9 79.5c-3.4-1.7-7.3-2.1-11-1.2a15.99 15.99 0 00-11.7 19.3l86.2 352.2c1.3 5.3 5.2 9.6 10.4 11.3l147.7 50.7-147.6 50.7c-5.2 1.8-9.1 6-10.3 11.3L72.2 926.5c-.9 3.7-.5 7.6 1.2 10.9 3.9 7.9 13.5 11.1 21.5 7.2l836.5-417c3.1-1.5 5.6-4.1 7.2-7.1 3.9-8 .7-17.6-7.2-21.6zM170.8 826.3l50.3-205.6 295.2-101.3c2.3-.8 4.2-2.6 5-5 1.4-4.2-.8-8.7-5-10.2L221.1 403 171 198.2l628 314.9-628.2 313.2z"}}]},name:"send",theme:"outlined"};function h(r){for(var e=1;e<arguments.length;e++){var o=arguments[e]!=null?Object(arguments[e]):{},i=Object.keys(o);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(o).filter(function(m){return Object.getOwnPropertyDescriptor(o,m).enumerable}))),i.forEach(function(m){G(r,m,o[m])})}return r}function G(r,e,o){return e in r?Object.defineProperty(r,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[e]=o,r}var g=function(e,o){var i=h({},e,o.attrs);return t(B,h({},i,{icon:T}),null)};g.displayName="SendOutlined";g.inheritAttrs=!1;const w=r=>(U("data-v-2706cbb8"),r=r(),$(),r),H={id:"login"},J={id:"form"},Q=w(()=>f("div",{id:"title"},"注册",-1)),R=w(()=>f("span",null,"已有账号？",-1)),W=F({__name:"Signup",setup(r){const e=j({username:"",password:"",ivcode:""}),o=n=>{let a=new FormData;a.append("username",n.username),a.append("password",n.password),a.append("ivcode",n.ivcode),y.post("/api/signup",a).then(u=>{let l=u.data;l?l.code=="0"?c(l.msg):I(l.msg,"/login"):c("邀请码错误")}).catch(u=>{c("邀请码错误")})},i=n=>{},m=A(()=>{let n=e.username.trim(),a=e.password.trim(),u=e.ivcode.trim();return n.length<3||n.length>16||/^[a-zA-Z0-9_]+$/.test(n)==!1||a.length<6||a.length>16||/^[a-zA-Z0-9_]+$/.test(a)==!1?!0:!u});return(n,a)=>{const u=N,l=Z,p=E,O=q,v=D,S=V,x=M;return L(),P("div",H,[f("div",J,[t(x,{hoverable:!0},{default:s(()=>[Q,t(u),t(S,{model:e,name:"normal_login",class:"login-form",onFinish:o,onFinishFailed:i},{default:s(()=>[t(p,{label:"用户名",name:"username",rules:[{required:!0,message:"请输入您的用户名!"},{min:3,message:"密码不能少于3位"},{max:16,message:"密码不能超过16位"},{pattern:/^[a-zA-Z0-9_]+$/,message:"密码只能包含字母、数字、下划线"}]},{default:s(()=>[t(l,{value:e.username,"onUpdate:value":a[0]||(a[0]=d=>e.username=d),allowClear:""},{prefix:s(()=>[t(_(C),{class:"site-form-item-icon"})]),_:1},8,["value"])]),_:1}),t(p,{label:"密　码",name:"password",rules:[{required:!0,message:"请输入您的密码!"},{min:6,message:"密码不能少于6位"},{max:16,message:"密码不能超过16位"},{pattern:/^[a-zA-Z0-9_]+$/,message:"密码只能包含字母、数字、下划线"}]},{default:s(()=>[t(O,{value:e.password,"onUpdate:value":a[1]||(a[1]=d=>e.password=d),allowClear:""},{prefix:s(()=>[t(_(z),{class:"site-form-item-icon"})]),_:1},8,["value"])]),_:1}),t(p,{label:"邀请码",name:"ivcode",rules:[{required:!0,message:"请输入您的邀请码!"},{whitespace:!0}]},{default:s(()=>[t(l,{value:e.ivcode,"onUpdate:value":a[2]||(a[2]=d=>e.ivcode=d),allowClear:""},{prefix:s(()=>[t(_(g),{class:"site-form-item-icon"})]),_:1},8,["value"])]),_:1}),t(p,null,{default:s(()=>[t(v,{disabled:m.value,type:"primary","html-type":"submit",class:"login-form-button"},{default:s(()=>[b(" 注册 ")]),_:1},8,["disabled"]),R,t(v,{type:"primary",href:"#login"},{default:s(()=>[b("登录")]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})])])}}}),pe=k(W,[["__scopeId","data-v-2706cbb8"]]);export{pe as default};
